<div *ngIf="!isset" id="wait">
    <div class="lds-roller">
        <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
    </div>
</div>

<div class="bg">
   <svg style="width: 100%; height: 100%" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev/svgjs" viewBox="0 0 800 800"><defs><linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="ssscribble-grad"><stop stop-color="hsl(206, 75%, 49%)" stop-opacity="1" offset="0%"></stop><stop stop-color="hsl(331, 90%, 56%)" stop-opacity="1" offset="100%"></stop></linearGradient></defs><g fill="none" stroke-width="1" stroke="url(#ssscribble-grad)" stroke-linecap="round"><path d="M940.4 479.66C1013.37 510.59 1038.72 527.99 1013.07 531.92 945.73 535.08 851.91 524.48 753.52 502.96 667.14 486.16 607.03 468.86 577.57 462.75 579.32 481.5 603.25 528.89 638.11 610.05 682.17 713.45 719.82 827.82 745.13 926.34 763.44 980.52 766.25 974.06 755.87 903.7 738.82 800.64 713.41 699.18 683.64 646.99 651.89 676.07 619.56 778.02 588.63 911.57 557.7 1014.99 529.64 1036.62 503.06 971.94 474.5 850.92 443.65 723.31 407.11 635.28 363.88 611.08 310.14 648.66 244.17 722.25 171.19 809.94 89.14 874.81 4.55 900.9 -70.84 888.61 -131.44 839 -165.4 767.58 -168.14 680.65 -135.76 594.76 -72.06 518.77 3.66 446.45 79.87 387.44 135.28 340.27 148.99 295.85 117.37 258.84 44.4 227.91 -53.38 196.98 -144.53 173.59 -205.59 159.68 -226.75 148.53 -200.13 151.27 -135.14 169.99 -45.34 192.38 51.6 227.33 139.22 266.6 209.03 290.36 253.69 295.58 274.72 267.34 273.37 200.72 258.79 99.2 239.66 -20.69 213.86 -126.49 194.02 -191.81 183.88 -190.31 175.27 -124.96 177.8 -14.96 190.87 94.12 205.15 146.88 228.07 119.01 259 15.61 289.93 -117.94 327.4 -213.63 371.44 -230.8 416.69 -166.69 470.42 -47.63 532.63 78.09 596.37 171.14 667.13 205.34 740.61 183.37 807.41 117.06 866.39 39.37 908.28 -23.49 927.8 -64.12 919.81 -67.12 882.21 -38.21 826.79 15.55 757.58 83.78 690.45 154.17 648.13 229.29 639.1 296.15 672.18 351.32 745.17 405.73 842.58 448.72 940.37 479.65Q940.4 479.66 940.4 479.66" opacity="0.20"></path><path d="M884.4 254.3C950.38 281.36 980.53 300.09 971.28 312.62 927.54 327.5 856.61 340.99 772.63 358.62 686.86 386.06 611.78 426.24 554.91 484.05 519.07 555.59 504.1 642.85 505.29 737.73 521.9 822.9 544.27 888.97 566.04 918.63 590.83 905.62 608.29 848.55 616.4 759.7 622.7 671.26 619.41 605.91 607.26 591.19 594.11 639.53 573.74 738.17 546.68 855.57 519.62 949.68 487.14 983.21 449.26 948.54 410.37 860.08 364.43 746.5 311.23 642.22 256.23 570.95 194.2 546.74 127.7 565.23 64.22 618.95 2.99 684.7 -49.07 743.77 -85.73 792.17 -102.85 814.47 -95.19 811.46 -66.49 788.9 -15.69 749.56 50.24 702.34 114.39 647.54 169.91 594.35 203.2 547.85 202.01 500.37 166.38 462.13 100.4 435.07 15.32 408.01 -66.59 393.4 -128.83 389.83 -164.39 385.3 -163.68 389.25 -129.65 397.16 -69.36 397.49 7.84 392.27 89.81 373.12 169.93 334.43 238.64 273.29 292.04 189.42 330.27 94.88 353.59 -2.95 366.12 -84.86 368.14 -131.53 366.56 -131.61 366 -80.18 362.09 4.25 363.64 102.42 372.84 180.45 381.63 204.69 399.15 165.7 426.21 71.61 453.27 -45.79 488.59 -138.96 530.83 -176.88 572.67 -151.72 620.34 -70.98 671.15 37.28 718.62 145.97 764.76 227.32 804.46 268.52 833.65 267.04 849.18 233.06 846.42 183.36 828.5 123.95 791.88 75.54 739.93 45.7 686.15 29.61 633.2 33.99 592.74 53.45 578.54 82.72 593.22 118.45 639.22 154.61 711.89 193.12 799.3 227.23 884.37 254.29Q884.4 254.3 884.4 254.3" opacity="0.32"></path><path d="M828.4 234.76C886.7 257.95 919.13 286.26 922.65 320.16 899.88 355.59 853.02 399.16 790.19 451.82 718.1 507.41 645.34 572 579.05 642.38 521.83 708.68 477.82 770.9 447.04 819.59 428.84 846.78 420.49 847.37 418.2 816.97 422.99 764.04 428.37 692.1 431.14 616.05 435.98 559.18 435.34 532.36 427.74 548 420.37 607.49 405.41 698.73 382.21 799.57 359.02 883.15 328.69 923.97 292.31 914.38 256.17 859.97 214.61 773.95 169.57 677.78 126.6 588.13 83.02 521.87 42.48 485.76 9.02 481.04 -15.93 501.41 -28.13 536.25 -27.75 583.06 -11.24 626.72 21.82 660.33 63.95 688.52 115.91 702.09 171 702.51 216.83 696.54 250.48 681.67 264.3 661.56 251.83 639.45 214.7 615.88 156.4 592.69 84 569.49 12.63 547.77 -46.77 526.13 -90.21 502.49 -108.56 475.18 -101.43 440.95 -72.26 400.33 -23.91 348.56 36.3 284.63 104.27 215.27 172.58 138.31 235.95 61.09 294.47 -4.14 343.72 -52.02 383.62 -71.46 416.35 -59.52 442.02 -14.07 463.06 58.56 480.08 137.74 496.05 210.55 513.12 256.03 529.15 256.67 548.32 211.18 571.52 127.61 594.71 26.77 620.83 -59.78 648.55 -110.33 675.22 -117.03 701.45 -77.02 724.63 -3.15 743.8 89.9 756.32 182.64 759.34 259.72 755.21 314.28 739.26 341.19 711.15 344.41 678.18 326.12 637.37 297.2 593.55 266.66 543.71 218.83 543.4 177.1 611.55 184.73 679.91 194.57 755.97 211.55 828.37 234.75Q828.4 234.76 828.4 234.76" opacity="0.34"></path><path d="M772.4 448.63C822.38 467.96 854.63 495.14 866.96 528.87 861.05 562.07 836.34 600.57 796.88 641.72 746.29 679.43 689.15 715.54 630.58 745.41 572.11 765.44 518.34 772.86 471.44 763.72 430.35 740.93 396.86 701.38 370.13 648.14 348.82 593.09 331.86 538.52 317.36 494.9 305.62 474.62 293.79 480.76 280.36 516.67 267.63 579.24 251.92 659.58 232.6 743.57 213.27 815.49 191.23 859 167.5 868.1 144.48 844.42 121.15 791.73 99.39 720.98 80.39 641.22 65.52 564.6 57.04 499.9 53.97 450.21 59.71 419.34 75.46 405.41 97.03 407.33 127.88 419.33 166.22 435.69 204.67 458.35 244.47 478.34 280.88 492.36 313.03 510.03 280.46 502.87 212.4 478.09 152.59 458.77 92.76 431.92 39.56 398.13 -5.48 363.95 -34.97 322.36 -47.32 274.41 -44.52 226.89 -25.55 175.07 6.19 122.61 48.18 76.45 96.83 36.69 147.96 9.43 201.56 -1.97 253.04 5.97 300.25 35.52 345.81 80.1 386.13 139.37 421.06 204.97 454.11 261.55 482.91 303.25 507.98 319.48 532.38 302.93 554.22 255.52 573.55 183.61 592.88 99.62 608.78 23.18 620.84 -31.93 632.23 -60.39 638.6 -55.53 639.04 -21.1 637.62 36.68 629.13 108.58 613.37 183.77 595.95 257.14 572.22 319.61 543.95 367.73 481.71 421.24 515.42 414.42 588.17 416.01 648.82 418.73 712.57 429.29 772.37 448.62Q772.4 448.63 772.4 448.63" opacity="0.25"></path><path d="M716.4 593.8C789.37 624.73 811.48 653.46 784.81 669.06 721.97 672.66 636.73 645.24 550.73 582.45 465.62 514.64 394.88 444.94 341.04 412.97 292.57 450.55 253.73 554.02 222.8 687.57 191.87 790.99 171.78 809.94 166.65 749.03 166.9 636.82 189.37 515.51 233.94 420.28 279.41 353.85 331.84 320.27 372.02 302.57 376.01 297.05 341.37 284.1 268.4 253.18 170.61 222.25 84.66 176.27 32.33 128.19 12.7 92.29 34.56 77.59 83.41 103.48 150.74 158.17 222.78 246.67 285.76 336.22 349.74 374.48 399.69 343.01 430.61 239.61 466.04 60.57 438.9 106.05 400.21 265.65 391.89 368.98 402.82 444.67 445.11 494.67 520.11 532.67 618.59 562.86 716.37 593.79Q716.4 593.8 716.4 593.8" opacity="0.63"></path><path d="M660.4 465.19C733.47 489.5 705.75 439.54 633.35 382.96 574.47 359.28 517.45 352.43 469.54 377.53 421.55 438.98 384.2 530.73 361.01 631.57 334.39 734.14 356.87 656.42 395.76 539.66 416.67 457.91 434.24 389.56 439.08 338.87 421.65 292.89 382.7 258.86 324.4 235.66 252 212.46 184.71 202.3 133.75 208.08 95.6 218.57 81.33 250.72 87.48 302.07 106.41 350.95 136.76 401.3 169.86 433.19 206.38 426.54 238.9 379.18 262.09 295.61 285.3 194.76 296.97 112.4 300.66 67.94 307.75 59.83 313.61 91.28 325.07 145.36 349.31 215.49 388.19 285.39 443.33 342.87 511.29 400.03 587.97 441.98 660.37 465.18Q660.4 465.19 660.4 465.19" opacity="0.92"></path><path d="M604.4 244.48C677.37 275.4 692.9 277.07 666.27 286.25 617.77 335.66 562.7 442.03 531.78 575.57 500.85 678.99 499.91 692.44 507.87 643.24 493.98 559.85 453.37 481.22 380.4 450.29 282.61 419.36 207.12 442 175.58 484.85 161.01 493.51 177.83 454.99 208.76 351.57 239.68 218.03 278.86 136.73 333.97 127.86 406.05 159.22 506.61 213.55 604.4 244.48Q604.4 244.48 604.4 244.48" opacity="0.67"></path></g></svg>
</div>

<p *ngIf="stuffService.stuffs && stuffService.stuffs.length > 0" id="sort">Według ceny: &nbsp;<span (click)="sort('ascending')">Rosnąco</span> &nbsp;&nbsp; <span (click)="sort('descending')">Malejąco</span></p>
<app-basket [newStuff]="addThat" (emiter)="newBasket($event)"></app-basket>

<div #filterElement id="filter" (input)="filter($event)">
    <div>
        <span>
            <input name="name" type="text">
        </span>
        
        <span>
            <input name="price" type="number">
        </span>
        <span>
            <input name="protein" type="number">
        </span>
        
        <span>
            <input name="carb" type="number">
        </span>
        <span>
            <input name="fat" type="number">
        </span>
        
        <span>
            <input name="fiber" type="number">
        </span>
        <span>
            <input name="kcal" type="number">
        </span>

        <button  style="cursor: none;" (click)="clean(filterElement)">Wyczyść</button>
    </div>
</div>

<div id="content" *ngIf="end">
    <div class="stuff" *ngFor="let e of stuffService.stuffs; let i=index;">
        <div class="container" [routerLink]="['/stuffs/detail', e._id]">
    
            <span class="store"><img #logo [src]="logos[e.store]"></span>

            <p *ngIf="e.name">nazwa: {{e.name}}</p>
            <p *ngIf="e.name">cena: {{e.price}}</p>
            
            <div class="values"> 
                <span>białko: {{e.values.protein.value}}</span>
                <span>węglowodany: {{e.values.carb.value}}</span>
                <span>tłuszcz: {{e.values.fat.value}}</span>
                <span *ngIf="e.values.fiber.value">błonnik: {{e.values.fiber.value}} </span>
                <span>kcal: {{e.values.kcal.value}}</span>
            </div>
        </div>
        
        <button class="btn" *ngIf="purchase" (click)="addStuff(e)"><mat-icon>add</mat-icon></button>
    </div>
</div>

<div id="list">
    <button id="purchase" role="button" (click)="purchaseMode()"><span class="text">Lista zakupów</span></button>

    <div #inside>
        <span>Sklep: &nbsp;</span>
        <select [disabled]="!purchase" name="store" (change)="actionStore($event)">
            <option *ngFor="let e of storeList" value="{{e}}">{{e}}</option>
        </select>
    </div>

    <p *ngFor="let e of basketLinks"><a href="{{e}}">Link</a> <button (click)="copy(e)"><mat-icon>library_books</mat-icon></button> <button style="cursor: none;" (click)="deleteLink(e)"><mat-icon>close</mat-icon></button></p>
</div>